<div class="admin-content">
  <h2>× ×™×”×•×œ ××‘×—× ×™× ×•××˜×œ×•×ª</h2>

  <div class="content-grid">
    <!-- Exams Section -->
    <div class="section exams-section">
      <div class="section-title">
        <span class="section-icon">ğŸ“</span>
        <h3>××‘×—× ×™×</h3>
      </div>
      
      <div class="form-container">
        <div class="form-header">
          <span class="form-icon">ğŸ“</span>
          <h4>{{ editingExamId() ? 'âœï¸ ×¢×¨×™×›×ª ××‘×—×Ÿ' : 'â• ×”×•×¡×¤×ª ××‘×—×Ÿ ×—×“×©' }}</h4>
        </div>
        
        <div class="form-section">
          <div class="section-label">
            <span class="section-icon">ğŸ“š</span>
            <span>×¤×¨×˜×™ ×”××‘×—×Ÿ</span>
          </div>
          
          <div class="form-group">
            <label for="examSubject">ğŸ“– ××§×¦×•×¢:</label>
            <input 
              id="examSubject"
              type="text"
              [(ngModel)]="newExamSubject"
              placeholder="×œ×“×•×’××”: ××ª××˜×™×§×”, ×× ×’×œ×™×ª..."
            />
          </div>
        </div>

        <div class="form-section">
          <div class="section-label">
            <span class="section-icon">ğŸ•</span>
            <span>××•×¢×“ ×•××™×§×•×</span>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="examDate">ğŸ“… ×ª××¨×™×š:</label>
              <input 
                id="examDate"
                type="date"
                [(ngModel)]="newExamDate"
              />
            </div>

            <div class="form-group">
              <label for="examTime">â° ×©×¢×” (××•×¤×¦×™×•× ×œ×™):</label>
              <input 
                id="examTime"
                type="time"
                [(ngModel)]="newExamTime"
              />
            </div>
          </div>

          <div class="form-group">
            <label for="examRoom">ğŸ“ ×—×“×¨ (××•×¤×¦×™×•× ×œ×™):</label>
            <input 
              id="examRoom"
              type="text"
              [(ngModel)]="newExamRoom"
              placeholder="××™×§×•× ×”××‘×—×Ÿ"
            />
          </div>
        </div>

        <div class="form-section">
          <div class="section-label">
            <span class="section-icon">ğŸ’­</span>
            <span>×”×¢×¨×•×ª × ×•×¡×¤×•×ª</span>
          </div>
          
          <div class="form-group">
            <label for="examNotes">ğŸ“ ×”×¢×¨×•×ª (××•×¤×¦×™×•× ×œ×™):</label>
            <textarea 
              id="examNotes"
              [(ngModel)]="newExamNotes"
              placeholder="×¤×¨×˜×™× × ×•×¡×¤×™× ×¢×œ ×”××‘×—×Ÿ..."
              rows="3"
            ></textarea>
          </div>
        </div>

        <div class="form-actions">
          @if (editingExamId()) {
            <button class="btn-primary" (click)="updateExam()">×¢×“×›×Ÿ ××‘×—×Ÿ</button>
            <button class="btn-secondary" (click)="clearExamForm()">×‘×™×˜×•×œ</button>
          } @else {
            <button class="btn-primary" (click)="addExam()">×”×•×¡×£ ××‘×—×Ÿ</button>
          }
        </div>
      </div>

      <div class="items-list">
        <div class="list-header">
          <h4>××‘×—× ×™× ×§×¨×•×‘×™× ({{ getFilteredExams().length }} ××ª×•×š {{ exams().length }})</h4>
          <input
            type="text"
            class="search-input"
            placeholder="×—×™×¤×•×© ××‘×—× ×™×..."
            [(ngModel)]="examSearchTerm"
          />
        </div>
        @if (getFilteredExams().length === 0) {
          <p class="empty-state">{{ exams().length === 0 ? '××™×Ÿ ××‘×—× ×™× ××ª×•×›× × ×™×' : '×œ× × ××¦××• ×ª×•×¦××•×ª' }}</p>
        }

        @for (exam of getFilteredExams(); track exam.id) {
          <div class="item exam-item">
            <div class="item-content">
              <h5>{{ exam.subject }}</h5>
              <div class="item-details">
                <span class="detail-date">ğŸ“… {{ exam.date | date: 'dd/MM/yyyy' }}</span>
                @if (exam.time) {
                  <span class="detail-time">ğŸ• {{ exam.time }}</span>
                }
                @if (exam.room) {
                  <span class="detail-room">ğŸ“ {{ exam.room }}</span>
                }
              </div>
              @if (exam.notes) {
                <p class="item-notes">{{ exam.notes }}</p>
              }
            </div>
            <div class="item-actions">
              <button class="btn-edit" (click)="editExam(exam)">×¢×¨×•×š</button>
              <button class="btn-delete" (click)="deleteExam(exam.id)">××—×§</button>
            </div>
          </div>
        }
      </div>
    </div>

    <!-- Tasks Section -->
    <div class="section tasks-section">
      <div class="section-title">
        <span class="section-icon">âœ…</span>
        <h3>××˜×œ×•×ª</h3>
      </div>
      
      <div class="form-container">
        <div class="form-header">
          <span class="form-icon">âœ…</span>
          <h4>{{ editingTaskId() ? 'âœï¸ ×¢×¨×™×›×ª ××˜×œ×”' : 'â• ×”×•×¡×¤×ª ××˜×œ×” ×—×“×©×”' }}</h4>
        </div>
        
        <div class="form-section">
          <div class="section-label">
            <span class="section-icon">ğŸ“‹</span>
            <span>×¤×¨×˜×™ ×”××˜×œ×”</span>
          </div>
          
          <div class="form-group">
            <label for="taskTitle">ğŸ“Œ ×›×•×ª×¨×ª:</label>
            <input 
              id="taskTitle"
              type="text"
              [(ngModel)]="newTaskTitle"
              placeholder="×œ×“×•×’××”: ×ª×¨×’×™×œ ×‘×™×ª, ×¢×‘×•×“×” ××¡×›××ª..."
            />
          </div>

          <div class="form-group">
            <label for="taskDescription">ğŸ“„ ×ª×™××•×¨ (××•×¤×¦×™×•× ×œ×™):</label>
            <textarea 
              id="taskDescription"
              [(ngModel)]="newTaskDescription"
              placeholder="×¤×¨×˜×™× ×¢×œ ×”××˜×œ×”..."
              rows="3"
            ></textarea>
          </div>
        </div>

        <div class="form-section">
          <div class="section-label">
            <span class="section-icon">ğŸ¯</span>
            <span>×¤×¨×˜×™× × ×•×¡×¤×™×</span>
          </div>
          
          <div class="form-row">
            <div class="form-group">
              <label for="taskDueDate">ğŸ“… ×ª××¨×™×š ×”×’×©×”:</label>
              <input 
                id="taskDueDate"
                type="date"
                [(ngModel)]="newTaskDueDate"
              />
            </div>

            <div class="form-group">
              <label for="taskSubject">ğŸ“š ××§×¦×•×¢ (××•×¤×¦×™×•× ×œ×™):</label>
              <input 
                id="taskSubject"
                type="text"
                [(ngModel)]="newTaskSubject"
                placeholder="××§×¦×•×¢"
              />
            </div>
          </div>

          <div class="form-group">
            <label for="taskPriority">âš¡ ×¢×“×™×¤×•×ª:</label>
            <select id="taskPriority" [(ngModel)]="newTaskPriority">
              <option value="low">ğŸŸ¢ × ××•×›×” - ××¤×©×¨ ×œ×”××ª×™×Ÿ</option>
              <option value="medium">ğŸŸ¡ ×‘×™× ×•× ×™×ª - ×—×©×•×‘</option>
              <option value="high">ğŸ”´ ×’×‘×•×”×” - ×“×—×•×£!</option>
            </select>
          </div>
        </div>

        <div class="form-actions">
          @if (editingTaskId()) {
            <button class="btn-primary" (click)="updateTask()">×¢×“×›×Ÿ ××˜×œ×”</button>
            <button class="btn-secondary" (click)="clearTaskForm()">×‘×™×˜×•×œ</button>
          } @else {
            <button class="btn-primary" (click)="addTask()">×”×•×¡×£ ××˜×œ×”</button>
          }
        </div>
      </div>

      <div class="items-list">
        <div class="list-header">
          <h4>××˜×œ×•×ª ({{ getFilteredTasks().length }} ××ª×•×š {{ tasks().length }})</h4>
          <div class="filter-controls">
            <input
              type="text"
              class="search-input"
              placeholder="×—×™×¤×•×© ××˜×œ×•×ª..."
              [(ngModel)]="taskSearchTerm"
            />
            <select class="filter-select" [(ngModel)]="taskFilterStatus">
              <option value="all">×”×›×œ</option>
              <option value="incomplete">×œ× ×”×•×©×œ××•</option>
              <option value="completed">×”×•×©×œ××•</option>
            </select>
          </div>
        </div>
        @if (getFilteredTasks().length === 0) {
          <p class="empty-state">{{ tasks().length === 0 ? '××™×Ÿ ××˜×œ×•×ª' : '×œ× × ××¦××• ×ª×•×¦××•×ª' }}</p>
        }

        @for (task of getFilteredTasks(); track task.id) {
          <div class="item task-item" [class.completed]="task.completed" [attr.data-priority]="task.priority">
            <div class="item-content">
              <div class="task-header">
                <input 
                  type="checkbox" 
                  [checked]="task.completed"
                  (change)="toggleTaskCompletion(task.id)"
                  class="task-checkbox"
                />
                <h5>{{ task.title }}</h5>
                <span class="priority-badge" [attr.data-priority]="task.priority">
                  {{ task.priority === 'high' ? '×’×‘×•×”×”' : task.priority === 'medium' ? '×‘×™× ×•× ×™×ª' : '× ××•×›×”' }}
                </span>
              </div>
              @if (task.description) {
                <p class="item-description">{{ task.description }}</p>
              }
              <div class="item-details">
                <span class="detail-date">ğŸ“… {{ task.dueDate | date: 'dd/MM/yyyy' }}</span>
                @if (task.subject) {
                  <span class="detail-subject">ğŸ“š {{ task.subject }}</span>
                }
              </div>
            </div>
            <div class="item-actions">
              <button class="btn-edit" (click)="editTask(task)">×¢×¨×•×š</button>
              <button class="btn-delete" (click)="deleteTask(task.id)">××—×§</button>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</div>
