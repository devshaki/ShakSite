<div class="admin-content">
  <h2>  转</h2>

  <div class="content-grid">
    <!-- Exams Section -->
    <div class="section exams-section">
      <h3></h3>
      
      <div class="form-container">
        <h4>{{ editingExamId() ? '注专转 ' : '住驻转  砖' }}</h4>
        
        <div class="form-group">
          <label for="examSubject">拽爪注:</label>
          <input 
            id="examSubject"
            type="text"
            [(ngModel)]="newExamSubject"
            placeholder="砖 拽爪注"
          />
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="examDate">转专:</label>
            <input 
              id="examDate"
              type="date"
              [(ngModel)]="newExamDate"
            />
          </div>

          <div class="form-group">
            <label for="examTime">砖注 (驻爪):</label>
            <input 
              id="examTime"
              type="time"
              [(ngModel)]="newExamTime"
            />
          </div>
        </div>

        <div class="form-group">
          <label for="examRoom">专 (驻爪):</label>
          <input 
            id="examRoom"
            type="text"
            [(ngModel)]="newExamRoom"
            placeholder="拽 "
          />
        </div>

        <div class="form-group">
          <label for="examNotes">注专转 (驻爪):</label>
          <textarea 
            id="examNotes"
            [(ngModel)]="newExamNotes"
            placeholder="驻专 住驻"
            rows="2"
          ></textarea>
        </div>

        <div class="form-actions">
          @if (editingExamId()) {
            <button class="btn-primary" (click)="updateExam()">注 </button>
            <button class="btn-secondary" (click)="clearExamForm()"></button>
          } @else {
            <button class="btn-primary" (click)="addExam()">住祝 </button>
          }
        </div>
      </div>

      <div class="items-list">
        <h4> 拽专 ({{ exams().length }})</h4>
        @if (exams().length === 0) {
          <p class="empty-state">  转</p>
        }
        
        @for (exam of getSortedExams(); track exam.id) {
          <div class="item exam-item">
            <div class="item-content">
              <h5>{{ exam.subject }}</h5>
              <div class="item-details">
                <span class="detail-date"> {{ exam.date | date: 'dd/MM/yyyy' }}</span>
                @if (exam.time) {
                  <span class="detail-time"> {{ exam.time }}</span>
                }
                @if (exam.room) {
                  <span class="detail-room"> {{ exam.room }}</span>
                }
              </div>
              @if (exam.notes) {
                <p class="item-notes">{{ exam.notes }}</p>
              }
            </div>
            <div class="item-actions">
              <button class="btn-edit" (click)="editExam(exam)">注专</button>
              <button class="btn-delete" (click)="deleteExam(exam.id)">拽</button>
            </div>
          </div>
        }
      </div>
    </div>

    <!-- Tasks Section -->
    <div class="section tasks-section">
      <h3>转</h3>
      
      <div class="form-container">
        <h4>{{ editingTaskId() ? '注专转 ' : '住驻转  砖' }}</h4>
        
        <div class="form-group">
          <label for="taskTitle">转专转:</label>
          <input 
            id="taskTitle"
            type="text"
            [(ngModel)]="newTaskTitle"
            placeholder="砖 "
          />
        </div>

        <div class="form-group">
          <label for="taskDescription">转专 (驻爪):</label>
          <textarea 
            id="taskDescription"
            [(ngModel)]="newTaskDescription"
            placeholder="驻专 注 "
            rows="2"
          ></textarea>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="taskDueDate">转专 砖:</label>
            <input 
              id="taskDueDate"
              type="date"
              [(ngModel)]="newTaskDueDate"
            />
          </div>

          <div class="form-group">
            <label for="taskSubject">拽爪注 (驻爪):</label>
            <input 
              id="taskSubject"
              type="text"
              [(ngModel)]="newTaskSubject"
              placeholder="拽爪注"
            />
          </div>
        </div>

        <div class="form-group">
          <label for="taskPriority">注驻转:</label>
          <select id="taskPriority" [(ngModel)]="newTaskPriority">
            <option value="low"></option>
            <option value="medium">转</option>
            <option value="high"></option>
          </select>
        </div>

        <div class="form-actions">
          @if (editingTaskId()) {
            <button class="btn-primary" (click)="updateTask()">注 </button>
            <button class="btn-secondary" (click)="clearTaskForm()"></button>
          } @else {
            <button class="btn-primary" (click)="addTask()">住祝 </button>
          }
        </div>
      </div>

      <div class="items-list">
        <h4>转 ({{ tasks().length }})</h4>
        @if (tasks().length === 0) {
          <p class="empty-state"> 转</p>
        }
        
        @for (task of getSortedTasks(); track task.id) {
          <div class="item task-item" [class.completed]="task.completed" [attr.data-priority]="task.priority">
            <div class="item-content">
              <div class="task-header">
                <input 
                  type="checkbox" 
                  [checked]="task.completed"
                  (change)="toggleTaskCompletion(task.id)"
                  class="task-checkbox"
                />
                <h5>{{ task.title }}</h5>
                <span class="priority-badge" [attr.data-priority]="task.priority">
                  {{ task.priority === 'high' ? '' : task.priority === 'medium' ? '转' : '' }}
                </span>
              </div>
              @if (task.description) {
                <p class="item-description">{{ task.description }}</p>
              }
              <div class="item-details">
                <span class="detail-date"> {{ task.dueDate | date: 'dd/MM/yyyy' }}</span>
                @if (task.subject) {
                  <span class="detail-subject"> {{ task.subject }}</span>
                }
              </div>
            </div>
            <div class="item-actions">
              <button class="btn-edit" (click)="editTask(task)">注专</button>
              <button class="btn-delete" (click)="deleteTask(task.id)">拽</button>
            </div>
          </div>
        }
      </div>
    </div>
  </div>
</div>
